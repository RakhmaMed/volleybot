# üèê Telegram –ë–æ—Ç –¥–ª—è –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –û–ø—Ä–æ—Å–æ–≤

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–æ–ª–µ–π–±–æ–ª—å–Ω—ã—Ö –∏–≥—Ä. –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –æ–ø—Ä–æ—Å—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–ø–∏—Å—å –∏–≥—Ä–æ–∫–æ–≤, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ø–∏—Å–∫–∏ (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–æ—Å—Ç–∞–≤ –∏ –∑–∞–ø–∞—Å–Ω—ã–µ) –∏ –≤–µ–¥–µ—Ç —É—á–µ—Ç –±–∞–ª–∞–Ω—Å–∞ –∏–≥—Ä–æ–∫–æ–≤.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [üíª –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞](#Ô∏è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [üèÉ –ó–∞–ø—É—Å–∫](#-–∑–∞–ø—É—Å–∫)
- [üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞](#-–∫–æ–º–∞–Ω–¥—ã-–±–æ—Ç–∞)
- [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ä–æ—Å—ã**: –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, —Ö—Ä–∞–Ω—è—â–µ–º—É—Å—è –≤ –ë–î.
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–ø–∞—Å–Ω—ã—Ö.
- **–£—á–µ—Ç –±–∞–ª–∞–Ω—Å–∞**: –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–ø–ª–∞—Ç –∏ –±–∞–ª–∞–Ω—Å–∞ –∏–≥—Ä–æ–∫–æ–≤ –≤ SQLite.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Webhook –∏ Polling**: –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –≤–µ–±—Ö—É–∫–∏ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSL) –∏–ª–∏ –¥–ª–∏–Ω–Ω—ã–µ –æ–ø—Ä–æ—Å—ã.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ë–î**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –æ–ø—Ä–æ—Å–æ–≤ –∏ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –±–æ—Ç–∞.

## üíª –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.13+
- SQLite
- [uv](https://github.com/astral-sh/uv) (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone <repository-url>
cd volleybot
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `.env` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ:
```bash
cp .env.example .env
```
–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `TELEGRAM_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –æ—Ç @BotFather
- `CHAT_ID` ‚Äî ID –≥—Ä—É–ø–ø—ã, –≥–¥–µ –±—É–¥—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –æ–ø—Ä–æ—Å—ã
- `ADMIN_USERNAME` ‚Äî –≤–∞—à –Ω–∏–∫–Ω–µ–π–º –≤ Telegram (–±–µ–∑ @)

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
# –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:
./manage.sh setup

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ uv:
uv venv
uv pip install -r requirements.txt
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
python -m src.bot
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–∫–µ–Ω—ã, –ø–æ—Ä—Ç—ã, —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è) —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env`. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–º. –≤ [docs/CONFIGURATION.md](docs/CONFIGURATION.md).

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–æ–≤ –∏ –∏–≥—Ä–æ–∫–∏ (SQLite)
–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `volleybot.db`:
- **–ò–≥—Ä–æ–∫–∏**: –¢–∞–±–ª–∏—Ü–∞ `players` (ID, –Ω–∏–∫–Ω–µ–π–º, –±–∞–ª–∞–Ω—Å, –æ—Ç–º–µ—Ç–∫–∞ –æ –¥–æ–Ω–∞—Ç–µ –º—è—á–µ–π).
- **–û–ø—Ä–æ—Å—ã**: –¢–∞–±–ª–∏—Ü–∞ `poll_templates` (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –≤—Ä–µ–º—è –∏–≥—Ä—ã).
- **–ü–æ–¥–ø–∏—Å–∫–∏**: –¢–∞–±–ª–∏—Ü–∞ `poll_subscriptions` (–∫—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–ø—Ä–æ—Å–∞—Ö).

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –º–æ–∂–µ—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç.*

## üèÉ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–µ–∂–∏–º–µ Polling –ø—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `WEBHOOK_HOST` –≤ `.env` –ø—É—Å—Ç.
```bash
./manage.sh start
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker
```bash
docker-compose up -d
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 60%+. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
./manage.sh test
```

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è –≤—Å–µ—Ö:
- `/balance` ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π –±–∞–ª–∞–Ω—Å.

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- `/start` ‚Äî –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –æ–ø—Ä–æ—Å–æ–≤.
- `/stop` ‚Äî –í—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∫—É.
- `/schedule` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –ë–î.
- `/chatid` ‚Äî –£–∑–Ω–∞—Ç—å ID —Ç–µ–∫—É—â–µ–≥–æ —á–∞—Ç–∞.
- `/pay` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–º –∏–≥—Ä–æ–∫–æ–≤ (—á–µ—Ä–µ–∑ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `src/` ‚Äî –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–æ—Ç–∞.
  - `db.py` ‚Äî –†–∞–±–æ—Ç–∞ —Å SQLite.
  - `config.py` ‚Äî –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ `.env`.
  - `scheduler.py` ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ–ø—Ä–æ—Å–æ–≤.
- `tests/` ‚Äî –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ (pytest).
- `docs/` ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.
- `manage.sh` / `manage.ps1` ‚Äî –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT